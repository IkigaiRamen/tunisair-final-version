<div class="register-container">
  <p-toast></p-toast>
  
  <div class="card">
    <h2>Register</h2>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div class="field">
        <label for="username">Username</label>
        <input 
          id="username" 
          type="text" 
          pInputText 
          formControlName="username" 
          [ngClass]="{'ng-invalid ng-dirty': f['username'].errors && f['username'].touched}"
        />
        <small class="p-error" *ngIf="f['username'].errors?.['required'] && f['username'].touched">
          Username is required
        </small>
        <small class="p-error" *ngIf="f['username'].errors?.['minlength'] && f['username'].touched">
          Username must be at least 3 characters
        </small>
      </div>

      <div class="field">
        <label for="email">Email</label>
        <input 
          id="email" 
          type="email" 
          pInputText 
          formControlName="email" 
          [ngClass]="{'ng-invalid ng-dirty': f['email'].errors && f['email'].touched}"
        />
        <small class="p-error" *ngIf="f['email'].errors?.['required'] && f['email'].touched">
          Email is required
        </small>
        <small class="p-error" *ngIf="f['email'].errors?.['email'] && f['email'].touched">
          Please enter a valid email
        </small>
      </div>

      <div class="field">
        <label for="password">Password</label>
        <p-password 
          id="password" 
          formControlName="password" 
          [feedback]="true"
          [toggleMask]="true"
          [ngClass]="{'ng-invalid ng-dirty': f['password'].errors && f['password'].touched}"
        ></p-password>
        <small class="p-error" *ngIf="f['password'].errors?.['required'] && f['password'].touched">
          Password is required
        </small>
        <small class="p-error" *ngIf="f['password'].errors?.['minlength'] && f['password'].touched">
          Password must be at least 6 characters
        </small>
      </div>

      <div class="field">
        <label for="confirmPassword">Confirm Password</label>
        <p-password 
          id="confirmPassword" 
          formControlName="confirmPassword" 
          [feedback]="false"
          [toggleMask]="true"
          [ngClass]="{'ng-invalid ng-dirty': f['confirmPassword'].errors && f['confirmPassword'].touched}"
        ></p-password>
        <small class="p-error" *ngIf="registerForm.errors?.['mismatch'] && f['confirmPassword'].touched">
          Passwords do not match
        </small>
      </div>

      <div class="field">
        <label for="firstName">First Name</label>
        <input 
          id="firstName" 
          type="text" 
          pInputText 
          formControlName="firstName" 
          [ngClass]="{'ng-invalid ng-dirty': f['firstName'].errors && f['firstName'].touched}"
        />
        <small class="p-error" *ngIf="f['firstName'].errors?.['required'] && f['firstName'].touched">
          First name is required
        </small>
      </div>

      <div class="field">
        <label for="lastName">Last Name</label>
        <input 
          id="lastName" 
          type="text" 
          pInputText 
          formControlName="lastName" 
          [ngClass]="{'ng-invalid ng-dirty': f['lastName'].errors && f['lastName'].touched}"
        />
        <small class="p-error" *ngIf="f['lastName'].errors?.['required'] && f['lastName'].touched">
          Last name is required
        </small>
      </div>

      <div class="field">
        <label for="department">Department</label>
        <input 
          id="department" 
          type="text" 
          pInputText 
          formControlName="department" 
          [ngClass]="{'ng-invalid ng-dirty': f['department'].errors && f['department'].touched}"
        />
        <small class="p-error" *ngIf="f['department'].errors?.['required'] && f['department'].touched">
          Department is required
        </small>
      </div>

      <div class="field">
        <label for="position">Position</label>
        <input 
          id="position" 
          type="text" 
          pInputText 
          formControlName="position" 
          [ngClass]="{'ng-invalid ng-dirty': f['position'].errors && f['position'].touched}"
        />
        <small class="p-error" *ngIf="f['position'].errors?.['required'] && f['position'].touched">
          Position is required
        </small>
      </div>

      <div class="field">
        <label for="phoneNumber">Phone Number</label>
        <input 
          id="phoneNumber" 
          type="text" 
          pInputText 
          formControlName="phoneNumber" 
          [ngClass]="{'ng-invalid ng-dirty': f['phoneNumber'].errors && f['phoneNumber'].touched}"
        />
        <small class="p-error" *ngIf="f['phoneNumber'].errors?.['required'] && f['phoneNumber'].touched">
          Phone number is required
        </small>
      </div>

      <div class="field">
        <p-button 
          type="submit" 
          label="Register" 
          [loading]="loading"
          [disabled]="registerForm.invalid"
        ></p-button>
      </div>

      <div class="field">
        <a routerLink="/auth/login">Already have an account? Login</a>
      </div>
    </form>
  </div>
</div> 