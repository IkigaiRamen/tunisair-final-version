<div class="document-upload-container">
  <div class="card">
    <div class="card-header">
      <h2>Upload Document</h2>
    </div>

    <div class="card-content">
      <form [formGroup]="uploadForm" (ngSubmit)="onSubmit()">
        <div class="form-grid">
          <div class="field col-12">
            <label for="meetingId" class="block">Meeting</label>
            <p-dropdown id="meetingId" [options]="meetings" formControlName="meetingId" 
              optionLabel="title" optionValue="id" placeholder="Select a meeting" 
              [showClear]="true" class="w-full"></p-dropdown>
            <small class="p-error" *ngIf="uploadForm.get('meetingId')?.invalid && uploadForm.get('meetingId')?.touched">
              Please select a meeting
            </small>
          </div>

          <div class="field col-12">
            <label for="description" class="block">Description</label>
            <textarea id="description" pInputTextarea formControlName="description" rows="3" 
              class="w-full" placeholder="Enter document description"></textarea>
            <small class="p-error" *ngIf="uploadForm.get('description')?.invalid && uploadForm.get('description')?.touched">
              Description is required
            </small>
          </div>

          <div class="field col-12">
            <label for="file" class="block">Document</label>
            <p-fileUpload #fileUpload id="file" [customUpload]="true" (uploadHandler)="onFileSelect($event)" 
              [auto]="true" [maxFileSize]="maxFileSize" [showCancelButton]="false" 
              [showUploadButton]="false" chooseLabel="Select File" 
              [accept]="'.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt'" 
              [style]="{'width':'100%'}" [multiple]="false"></p-fileUpload>
            <small class="p-error" *ngIf="uploadForm.get('file')?.invalid && uploadForm.get('file')?.touched">
              Please select a file
            </small>
            <small class="p-info">Maximum file size: 10MB. Supported formats: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX, TXT</small>
          </div>
        </div>

        <div class="flex justify-content-end gap-2 mt-4">
          <p-button type="button" label="Cancel" (onClick)="onCancel()" 
            styleClass="p-button-outlined"></p-button>
          <p-button type="submit" label="Upload" [loading]="loading" 
            [disabled]="uploadForm.invalid || loading"></p-button>
        </div>
      </form>
    </div>
  </div>
</div>

<p-toast></p-toast> 