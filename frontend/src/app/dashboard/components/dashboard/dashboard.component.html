<div class="dashboard-container">
  <div *ngIf="loading" class="loading-container">
    <p-progressSpinner></p-progressSpinner>
    <p>Loading dashboard data...</p>
  </div>

  <div *ngIf="!loading" class="dashboard-grid">
    <!-- Task Tracking Section -->
    <div class="dashboard-card">
      <p-card header="Task Tracking">
        <div class="stats-grid">
          <div class="stat-item">
            <i class="pi pi-list"></i>
            <div class="stat-content">
              <span class="stat-value">{{ taskStats.total }}</span>
              <span class="stat-label">Total Tasks</span>
            </div>
          </div>
          <div class="stat-item">
            <i class="pi pi-check-circle"></i>
            <div class="stat-content">
              <span class="stat-value">{{ taskStats.completed }}</span>
              <span class="stat-label">Completed</span>
            </div>
          </div>
          <div class="stat-item">
            <i class="pi pi-sync"></i>
            <div class="stat-content">
              <span class="stat-value">{{ taskStats.inProgress }}</span>
              <span class="stat-label">In Progress</span>
            </div>
          </div>
          <div class="stat-item">
            <i class="pi pi-exclamation-triangle"></i>
            <div class="stat-content">
              <span class="stat-value">{{ taskStats.overdue }}</span>
              <span class="stat-label">Overdue</span>
            </div>
          </div>
        </div>
        <app-task-tracking [tasks]="tasks"></app-task-tracking>
      </p-card>
    </div>

    <!-- Meeting Overview Section -->
    <div class="dashboard-card">
      <p-card header="Meeting Overview">
        <div class="stats-grid">
          <div class="stat-item">
            <i class="pi pi-calendar"></i>
            <div class="stat-content">
              <span class="stat-value">{{ meetingStats.total }}</span>
              <span class="stat-label">Total Meetings</span>
            </div>
          </div>
          <div class="stat-item">
            <i class="pi pi-clock"></i>
            <div class="stat-content">
              <span class="stat-value">{{ meetingStats.upcoming }}</span>
              <span class="stat-label">Upcoming</span>
            </div>
          </div>
          <div class="stat-item">
            <i class="pi pi-check"></i>
            <div class="stat-content">
              <span class="stat-value">{{ meetingStats.completed }}</span>
              <span class="stat-label">Completed</span>
            </div>
          </div>
          <div class="stat-item">
            <i class="pi pi-times"></i>
            <div class="stat-content">
              <span class="stat-value">{{ meetingStats.cancelled }}</span>
              <span class="stat-label">Cancelled</span>
            </div>
          </div>
        </div>
        <app-meeting-overview [meetings]="meetings"></app-meeting-overview>
      </p-card>
    </div>

    <!-- Document Summary Section -->
    <div class="dashboard-card">
      <p-card header="Document Summary">
        <div class="stats-grid">
          <div class="stat-item">
            <i class="pi pi-file"></i>
            <div class="stat-content">
              <span class="stat-value">{{ documentStats.total }}</span>
              <span class="stat-label">Total Documents</span>
            </div>
          </div>
          <div class="stat-item">
            <i class="pi pi-clock"></i>
            <div class="stat-content">
              <span class="stat-value">{{ documentStats.recent }}</span>
              <span class="stat-label">Recent (30 days)</span>
            </div>
          </div>
        </div>
        <app-document-summary [documents]="documents"></app-document-summary>
      </p-card>
    </div>

    <!-- Timeline Section -->
    <div class="dashboard-card timeline-card">
      <p-card header="Activity Timeline">
        <app-timeline [tasks]="tasks" [meetings]="meetings" [documents]="documents">
        </app-timeline>
      </p-card>
    </div>
  </div>
</div>

<p-toast></p-toast> 