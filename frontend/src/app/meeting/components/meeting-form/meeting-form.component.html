<div class="meeting-form-container">
  <form [formGroup]="meetingForm" (ngSubmit)="onSubmit()">
    <div class="form-grid">
      <div class="field col-12">
        <label for="title" class="block">Title</label>
        <input id="title" type="text" pInputText formControlName="title" class="w-full" />
        <small class="p-error" *ngIf="meetingForm.get('title')?.invalid && meetingForm.get('title')?.touched">
          Title is required and must be at least 3 characters
        </small>
      </div>

      <div class="field col-12">
        <label for="description" class="block">Description</label>
        <textarea id="description" pInputTextarea formControlName="description" rows="3" class="w-full"></textarea>
        <small class="p-error" *ngIf="meetingForm.get('description')?.invalid && meetingForm.get('description')?.touched">
          Description is required
        </small>
      </div>

      <div class="field col-12 md:col-6">
        <label for="startTime" class="block">Start Time</label>
        <p-calendar id="startTime" formControlName="startTime" [showTime]="true" [minDate]="minDate" 
          [showIcon]="true" [hourFormat]="24" class="w-full"></p-calendar>
        <small class="p-error" *ngIf="meetingForm.get('startTime')?.invalid && meetingForm.get('startTime')?.touched">
          Start time is required
        </small>
      </div>

      <div class="field col-12 md:col-6">
        <label for="endTime" class="block">End Time</label>
        <p-calendar id="endTime" formControlName="endTime" [showTime]="true" [minDate]="minDate" 
          [showIcon]="true" [hourFormat]="24" class="w-full"></p-calendar>
        <small class="p-error" *ngIf="meetingForm.get('endTime')?.invalid && meetingForm.get('endTime')?.touched">
          End time is required
        </small>
      </div>

      <div class="field col-12">
        <label for="location" class="block">Location</label>
        <input id="location" type="text" pInputText formControlName="location" class="w-full" />
        <small class="p-error" *ngIf="meetingForm.get('location')?.invalid && meetingForm.get('location')?.touched">
          Location is required
        </small>
      </div>

      <div class="field col-12 md:col-6">
        <label for="status" class="block">Status</label>
        <p-dropdown id="status" [options]="statusOptions" formControlName="status" 
          optionLabel="status" class="w-full"></p-dropdown>
        <small class="p-error" *ngIf="meetingForm.get('status')?.invalid && meetingForm.get('status')?.touched">
          Status is required
        </small>
      </div>

      <div class="field col-12">
        <label for="participants" class="block">Participants</label>
        <p-multiSelect id="participants" [options]="users" formControlName="participants" 
          optionLabel="username" class="w-full" [filter]="true" filterBy="username"></p-multiSelect>
      </div>
    </div>

    <div class="flex justify-content-end gap-2 mt-4">
      <p-button type="button" label="Cancel" (onClick)="onCancel()" 
        styleClass="p-button-outlined"></p-button>
      <p-button type="submit" label="Save" [loading]="loading" 
        [disabled]="meetingForm.invalid || loading"></p-button>
    </div>
  </form>
</div>

<p-toast></p-toast> 