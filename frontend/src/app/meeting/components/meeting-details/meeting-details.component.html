<div class="meeting-details-container">
  <div class="card">
    <div class="card-header">
      <h2>Meeting Details</h2>
      <div class="action-buttons">
        <p-button icon="pi pi-pencil" (onClick)="onEdit()" 
          styleClass="p-button-outlined p-button-info" 
          tooltip="Edit Meeting"></p-button>
        <p-button icon="pi pi-trash" (onClick)="onDelete()" 
          styleClass="p-button-outlined p-button-danger" 
          tooltip="Delete Meeting"></p-button>
        <p-button icon="pi pi-times" (onClick)="onClose()" 
          styleClass="p-button-outlined" 
          tooltip="Close"></p-button>
      </div>
    </div>

    <div class="card-content">
      <div *ngIf="loading" class="loading-container">
        <p-progressSpinner></p-progressSpinner>
        <p>Loading meeting details...</p>
      </div>

      <div *ngIf="error" class="error-container">
        <i class="pi pi-exclamation-triangle" style="font-size: 2rem; color: var(--red-500);"></i>
        <p>Failed to load meeting details. Please try again.</p>
        <p-button label="Retry" (onClick)="loadMeeting()" 
          styleClass="p-button-outlined"></p-button>
      </div>

      <div *ngIf="!loading && !error && meeting" class="details-content">
        <div class="detail-row">
          <div class="detail-label">Title:</div>
          <div class="detail-value">{{ meeting.title }}</div>
        </div>

        <div class="detail-row">
          <div class="detail-label">Description:</div>
          <div class="detail-value">{{ meeting.description }}</div>
        </div>

        <div class="detail-row">
          <div class="detail-label">Start Time:</div>
          <div class="detail-value">{{ formatDate(meeting.startTime) }}</div>
        </div>

        <div class="detail-row">
          <div class="detail-label">End Time:</div>
          <div class="detail-value">{{ formatDate(meeting.endTime) }}</div>
        </div>

        <div class="detail-row">
          <div class="detail-label">Location:</div>
          <div class="detail-value">{{ meeting.location }}</div>
        </div>

        <div class="detail-row">
          <div class="detail-label">Status:</div>
          <div class="detail-value">
            <p-tag [value]="meeting.status" [severity]="getStatusClass(meeting.status)"></p-tag>
          </div>
        </div>

        <div class="detail-row">
          <div class="detail-label">Organizer:</div>
          <div class="detail-value">{{ meeting.organizer.username }}</div>
        </div>

        <div class="detail-row">
          <div class="detail-label">Participants:</div>
          <div class="detail-value">
            <p-chip *ngFor="let participant of meeting.participants" 
              [label]="participant.username" 
              [removable]="false"></p-chip>
          </div>
        </div>

        <div class="detail-row">
          <div class="detail-label">Created:</div>
          <div class="detail-value">{{ formatDate(meeting.createdAt) }}</div>
        </div>

        <div class="detail-row">
          <div class="detail-label">Last Updated:</div>
          <div class="detail-value">{{ formatDate(meeting.updatedAt) }}</div>
        </div>
      </div>
    </div>
  </div>
</div>

<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog> 