<div class="meeting-calendar-container">
  <div class="card">
    <div class="card-header">
      <h2>Meeting Calendar</h2>
      <div class="action-buttons">
        <p-button icon="pi pi-refresh" (onClick)="refreshCalendar()" 
          styleClass="p-button-outlined" 
          tooltip="Refresh Calendar"></p-button>
      </div>
    </div>

    <div class="card-content">
      <div *ngIf="loading" class="loading-container">
        <p-progressSpinner></p-progressSpinner>
        <p>Loading calendar...</p>
      </div>

      <div *ngIf="error" class="error-container">
        <i class="pi pi-exclamation-triangle" style="font-size: 2rem; color: var(--red-500);"></i>
        <p>Failed to load calendar. Please try again.</p>
        <p-button label="Retry" (onClick)="refreshCalendar()" 
          styleClass="p-button-outlined"></p-button>
      </div>

      <div *ngIf="!loading && !error" class="calendar-container">
        <p-fullCalendar [events]="events" 
          [options]="{
            initialView: 'dayGridMonth',
            headerToolbar: {
              left: 'prev,next today',
              center: 'title',
              right: 'dayGridMonth,timeGridWeek,timeGridDay'
            },
            editable: false,
            selectable: true,
            selectMirror: true,
            dayMaxEvents: true,
            weekends: true,
            eventClick: onEventClick,
            select: onDateSelect
          }">
        </p-fullCalendar>
      </div>
    </div>
  </div>
</div>

<p-toast></p-toast> 